# ğŸ¨ å‰ç«¯éƒ¨ç½² - ç«‹å³å¼€å§‹

## âœ… å‡†å¤‡å·¥ä½œå·²å®Œæˆ

- âœ… **API åœ°å€å·²æ›´æ–°**: æŒ‡å‘åç«¯ `http://44.223.49.55:8080/api`
- âœ… **åç«¯ CORS å·²é…ç½®**: å…è®¸å‰ç«¯æœåŠ¡å™¨ `http://3.22.167.117` è®¿é—®
- âœ… **éƒ¨ç½²è„šæœ¬å·²åˆ›å»º**: `deploy-frontend.sh`

---

## ğŸš€ ç°åœ¨éƒ¨ç½²ï¼ˆä¸¤ä¸ªç®€å•æ­¥éª¤ï¼‰

### æ–¹æ³•ä¸€ï¼šè‡ªåŠ¨éƒ¨ç½²ï¼ˆæ¨èï¼‰â­

```bash
# 1. è¿›å…¥ deployment ç›®å½•
cd deployment

# 2. è¿è¡Œéƒ¨ç½²è„šæœ¬
./deploy-frontend.sh
```

å°±è¿™ä¹ˆç®€å•ï¼è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
1. æ„å»ºå‰ç«¯ï¼ˆAPI é…ç½®ä¸ºåç«¯åœ°å€ï¼‰
2. åˆ›å»ºéƒ¨ç½²åŒ…
3. å¤‡ä»½ç°æœ‰æ–‡ä»¶
4. ä¸Šä¼ åˆ°æœåŠ¡å™¨
5. è§£å‹å¹¶éƒ¨ç½²

---

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²ï¼ˆå¦‚æœè‡ªåŠ¨è„šæœ¬å¤±è´¥ï¼‰

#### æ­¥éª¤ 1: æœ¬åœ°æ„å»º

```bash
cd frontend
REACT_APP_API_URL=http://44.223.49.55:8080/api npm run build
```

#### æ­¥éª¤ 2: æ‰“åŒ…

```bash
cd build
tar -czf frontend-build.tar.gz .
```

#### æ­¥éª¤ 3: ä¸Šä¼ 

```bash
scp -i ../deployment/kyle-portfolio-key.pem \
    frontend-build.tar.gz \
    ec2-user@3.22.167.117:/tmp/
```

#### æ­¥éª¤ 4: éƒ¨ç½²

```bash
# SSH åˆ°å‰ç«¯æœåŠ¡å™¨
ssh -i deployment/kyle-portfolio-key.pem ec2-user@3.22.167.117

# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
sudo mkdir -p /var/www/kyle-portfolio
sudo rm -rf /var/www/kyle-portfolio/*
cd /var/www/kyle-portfolio
sudo tar -xzf /tmp/frontend-build.tar.gz
sudo chown -R ec2-user:ec2-user /var/www/kyle-portfolio

# é‡å¯ Web æœåŠ¡å™¨
sudo systemctl reload nginx    # å¦‚æœä½¿ç”¨ Nginx
# æˆ–
sudo systemctl reload httpd    # å¦‚æœä½¿ç”¨ Apache
```

---

## ğŸ§ª éƒ¨ç½²åæµ‹è¯•

### 1. è®¿é—®å‰ç«¯

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š**http://3.22.167.117**

### 2. æ£€æŸ¥ API è¿æ¥

æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…· â†’ åˆ‡æ¢åˆ° **Network** æ ‡ç­¾ï¼š

âœ… **æˆåŠŸæ ‡å¿—**:
- API è¯·æ±‚åœ°å€ï¼š`http://44.223.49.55:8080/api/...`
- çŠ¶æ€ç ï¼š200
- ç…§ç‰‡æ•°æ®æ­£å¸¸è¿”å›

âŒ **å¦‚æœå‡ºç°é—®é¢˜**:
- CORS é”™è¯¯ â†’ æŸ¥çœ‹ä¸‹é¢çš„æ•…éšœæ’æŸ¥
- 404 é”™è¯¯ â†’ æ£€æŸ¥åç«¯æœåŠ¡çŠ¶æ€
- ç½‘ç»œé”™è¯¯ â†’ æ£€æŸ¥é˜²ç«å¢™/å®‰å…¨ç»„

---

## ğŸ› å¿«é€Ÿæ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šCORS é”™è¯¯

æµè§ˆå™¨æ§åˆ¶å°æ˜¾ç¤ºç±»ä¼¼ï¼š
```
Access to XMLHttpRequest at 'http://44.223.49.55:8080/api/photos' 
from origin 'http://3.22.167.117' has been blocked by CORS policy
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# SSH åˆ°åç«¯æœåŠ¡å™¨
ssh -i deployment/kyle-portfolio-key.pem ec2-user@44.223.49.55

# æ£€æŸ¥ CORS é…ç½®
cat /opt/kyle-portfolio/.env | grep CORS

# åº”è¯¥çœ‹åˆ°ï¼š
# CORS_ALLOWED_ORIGINS=http://3.22.167.117,http://localhost:3000

# å¦‚æœæ²¡æœ‰ï¼Œæ·»åŠ ï¼š
echo "CORS_ALLOWED_ORIGINS=http://3.22.167.117,http://localhost:3000" | sudo tee -a /opt/kyle-portfolio/.env

# é‡å¯åç«¯
sudo systemctl restart kyle-portfolio
```

### é—®é¢˜ï¼šé¡µé¢åˆ·æ–°å 404

**ç—‡çŠ¶**: ç›´æ¥è®¿é—® `http://3.22.167.117/photography` æ˜¾ç¤º 404

**åŸå› **: Web æœåŠ¡å™¨ä¸æ”¯æŒ React Router

**è§£å†³æ–¹æ¡ˆ**: é…ç½® Web æœåŠ¡å™¨ï¼ˆNginx æˆ– Apacheï¼‰

#### Nginx é…ç½®:
```bash
# SSH åˆ°å‰ç«¯æœåŠ¡å™¨
ssh -i deployment/kyle-portfolio-key.pem ec2-user@3.22.167.117

# ç¼–è¾‘ Nginx é…ç½®
sudo nano /etc/nginx/conf.d/kyle-portfolio.conf
```

æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š
```nginx
server {
    listen 80;
    server_name 3.22.167.117;
    
    root /var/www/kyle-portfolio;
    index index.html;
    
    # æ”¯æŒ React Router
    location / {
        try_files $uri $uri/ /index.html;
    }
}
```

åº”ç”¨é…ç½®ï¼š
```bash
sudo nginx -t && sudo systemctl reload nginx
```

### é—®é¢˜ï¼šç…§ç‰‡ä¸æ˜¾ç¤º

**æ£€æŸ¥æ­¥éª¤**:

1. **åç«¯æ˜¯å¦æ­£å¸¸**:
```bash
curl http://44.223.49.55:8080/api/photos
# åº”è¯¥è¿”å› JSON æ•°æ®
```

2. **å‰ç«¯æ˜¯å¦è¿æ¥åç«¯**:
- æµè§ˆå™¨ F12 â†’ Network æ ‡ç­¾
- æŸ¥çœ‹æ˜¯å¦æœ‰åˆ°åç«¯çš„è¯·æ±‚
- æ£€æŸ¥è¯·æ±‚åœ°å€æ˜¯å¦æ­£ç¡®

3. **CORS æ˜¯å¦é…ç½®**:
- æŸ¥çœ‹ Console æ ‡ç­¾æ˜¯å¦æœ‰ CORS é”™è¯¯

---

## ğŸ“Š é¢„æœŸç»“æœ

éƒ¨ç½²æˆåŠŸåï¼Œä½ åº”è¯¥çœ‹åˆ°ï¼š

âœ… **å‰ç«¯é¡µé¢**: http://3.22.167.117
- ä¸»é¡µæ­£å¸¸æ˜¾ç¤º
- Photography é¡µé¢æ˜¾ç¤ºç…§ç‰‡
- ç…§ç‰‡è½®æ’­æ­£å¸¸å·¥ä½œ

âœ… **åç«¯ API**: http://44.223.49.55:8080/api/photos
- è¿”å›ç…§ç‰‡æ•°æ® JSON
- CORS å…è®¸å‰ç«¯è®¿é—®

âœ… **æµè§ˆå™¨æ§åˆ¶å°**:
- æ— é”™è¯¯ä¿¡æ¯
- Network æ ‡ç­¾æ˜¾ç¤ºæˆåŠŸçš„ API è¯·æ±‚

---

## ğŸ¯ å®Œæ•´ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·æµè§ˆå™¨                             â”‚
â”‚                  è®¿é—® http://3.22.167.117                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           å‰ç«¯ EC2 (3.22.167.117)                        â”‚
â”‚  - Nginx/Apache Web Server                              â”‚
â”‚  - React é™æ€æ–‡ä»¶: /var/www/kyle-portfolio              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ API è¯·æ±‚
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           åç«¯ EC2 (44.223.49.55)                        â”‚
â”‚  - Spring Boot åº”ç”¨: port 8080                          â”‚
â”‚  - API: http://44.223.49.55:8080/api                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ æ•°æ®åº“è¿æ¥
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   RDS PostgreSQL                                         â”‚
â”‚   kyle-portfolio-db.covowusqeeh3.us-east-1.rds.amazonaws.comâ”‚
â”‚   - æ•°æ®åº“: kyle_portfolio                               â”‚
â”‚   - 15 å¼ æ ·æœ¬ç…§ç‰‡                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ å¿«é€Ÿå‘½ä»¤å‚è€ƒ

```bash
# éƒ¨ç½²å‰ç«¯
cd deployment && ./deploy-frontend.sh

# SSH åˆ°å‰ç«¯æœåŠ¡å™¨
ssh -i deployment/kyle-portfolio-key.pem ec2-user@3.22.167.117

# SSH åˆ°åç«¯æœåŠ¡å™¨
ssh -i deployment/kyle-portfolio-key.pem ec2-user@44.223.49.55

# æµ‹è¯•å‰ç«¯
curl -I http://3.22.167.117

# æµ‹è¯•åç«¯
curl http://44.223.49.55:8080/api/photos

# æŸ¥çœ‹åç«¯æ—¥å¿—
ssh -i deployment/kyle-portfolio-key.pem ec2-user@44.223.49.55 \
    'sudo journalctl -u kyle-portfolio -f'

# é‡å¯åç«¯
ssh -i deployment/kyle-portfolio-key.pem ec2-user@44.223.49.55 \
    'sudo systemctl restart kyle-portfolio'
```

---

## ğŸŠ å‡†å¤‡å¥½äº†å—ï¼Ÿ

ç°åœ¨ä½ å¯ä»¥ï¼š

### é€‰æ‹©æ–¹æ³•ä¸€ï¼ˆæ¨èï¼‰:
```bash
cd deployment
./deploy-frontend.sh
```

### æˆ–é€‰æ‹©æ–¹æ³•äºŒï¼ˆæ‰‹åŠ¨ï¼‰:
æŒ‰ç…§ä¸Šé¢çš„æ‰‹åŠ¨æ­¥éª¤æ‰§è¡Œ

---

**ç¥éƒ¨ç½²é¡ºåˆ©ï¼** ğŸš€

å¦‚æœ‰é—®é¢˜ï¼ŒæŸ¥çœ‹ï¼š
- è¯¦ç»†æŒ‡å—: `FRONTEND_DEPLOYMENT_GUIDE.md`
- å¿«é€Ÿå‚è€ƒ: `QUICK_REFERENCE.md`

